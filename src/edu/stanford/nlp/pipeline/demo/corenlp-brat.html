<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>

    <!-- Brat -->
    <link rel="stylesheet" type="text/css" href="style-vis.css"/>
    <script type="text/javascript" src="head.load.min.js"></script>

    <!-- d3 + dagre-d3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.4/dagre-d3.min.js"></script>

    <!-- CoreNLP -->
    <link rel="stylesheet" type="text/css" href="corenlp-brat.css?v4.5.10"/>
    <script type="text/javascript" src="corenlp-brat.js?v4.5.10"></script>

    <!-- Theme Manager -->
    <script type="text/javascript" src="theme-manager.js"></script>
    <link rel="stylesheet" type="text/css" href="dark-mode.css"/>
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="https://stanfordnlp.github.io/CoreNLP/">
            <img src="img/corenlp-title.png" id="logo-image" class="me-2" alt="logo">
            CoreNLP
        </a>

        <span class="navbar-text me-4">
        <div id="version-num">version 4.5.10</div>
    </span>

        <!-- Theme Toggle -->
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="themeToggle">
            <label class="form-check-label" for="themeToggle">Dark Mode</label>
        </div>
    </div>
</nav>

<div class="container my-4">
    <div class="row">
        <form id="form_annotate" onsubmit="return false;">
            <div class="col-12 mb-3">
                <label for="text" class="label">— Text to annotate —</label>
                <textarea class="form-control" rows="3" id="text"
                          placeholder="e.g., The quick brown fox jumped over the lazy dog." autofocus></textarea>
            </div>

            <div class="row">
                <div class="col-md-8 mb-3">
                    <label for="annotators" class="label">— Annotations —</label>
                    <select id="annotators" multiple class="chosen-select w-100">
                        <option value="pos" selected>parts-of-speech</option>
                        <option value="lemma">lemmas</option>
                        <option value="ner" selected>named entities</option>
                        <option value="regexner">named entities (regexner)</option>
                        <option value="parse">constituency parse</option>
                        <option value="depparse" selected>dependency parse</option>
                        <option value="openie">openie</option>
                        <option value="coref">coreference</option>
                        <option value="kbp">relations</option>
                        <option value="sentiment">sentiment</option>
                    </select>
                </div>

                <div class="col-md-2 mb-3">
                    <label for="language" class="label">— Language —</label>
                    <select id="language" class="chosen-select w-100">
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese</option>
                        <option value="en" selected>English</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="hu">Hungarian</option>
                        <option value="it">Italian</option>
                        <option value="es">Spanish</option>
                    </select>
                </div>

                <div class="col-md-2 mb-3 d-flex align-items-end">
                    <button id="submit" class="btn btn-primary w-100">Submit</button>
                </div>
            </div>
        </form>
    </div>

    <div id="errors" class="row"></div>

    <div id="loading" class="row" style="display:none; justify-content:center;">
        <div class="col-auto text-center">
            <img src="img/loading.gif" class="img-fluid" style="max-height: 100px;" alt="Loading...">
        </div>
    </div>


    <div id="annotations" class="row" style="display:none"></div>

    <!-- Tabs -->
    <div id="patterns_row" class="row" style="display:none">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#div_tokensregex">TokensRegex</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#div_semgrex">Semgrex</button></li>
            <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#div_tregex">Tregex</button></li>
        </ul>

        <div class="tab-content mt-3">

            <div class="tab-pane active" id="div_tokensregex">
                <form id="form_tokensregex">
                    <label for="tokensregex_search">Enter a TokensRegex expression:</label>
                    <div class="input-group">
                        <input id="tokensregex_search" type="text" class="form-control"
                               placeholder='e.g., (?$foxtype [{pos:JJ}]+ ) fox'>
                        <button id="button_tokensregex" class="btn btn-secondary" type="submit">Match</button>
                    </div>
                </form>
            </div>

            <div class="tab-pane" id="div_semgrex">
                <form id="form_semgrex">
                    <label for="semgrex_search">Enter a Semgrex expression:</label>
                    <div class="input-group">
                        <input id="semgrex_search" type="text" class="form-control"
                               placeholder='e.g., {pos:/VB.*/} >nsubj {}=subject >/nmod:.*/ {}=prep_phrase'>
                        <button id="button_semgrex" class="btn btn-secondary" type="submit">Match</button>
                    </div>
                </form>
            </div>

            <div class="tab-pane" id="div_tregex">
                <form id="form_tregex">
                    <label for="tregex_search">Enter a Tregex expression:</label>
                    <div class="input-group">
                        <input id="tregex_search" type="text" class="form-control" placeholder='e.g., NP < NN=animal'>
                        <button id="button_tregex" class="btn btn-secondary" type="submit">Match</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

<footer class="footer text-center py-4 mt-4 border-top">
    <p class="text-muted">
        Visualisation provided using the <a href="https://brat.nlplab.org/">brat visualisation/annotation software</a>.
    </p>
</footer>

</body>
</html>
